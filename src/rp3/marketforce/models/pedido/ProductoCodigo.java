package rp3.marketforce.models.pedido;

import android.database.Cursor;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import rp3.data.entity.EntityBase;
import rp3.db.sqlite.DataBase;
import rp3.marketforce.db.Contract;
import rp3.util.CursorUtils;

/**
 * Created by magno_000 on 10/03/2016.
 */
public class ProductoCodigo  extends EntityBase<ProductoCodigo> {

    private long id;
    private String codigoExterno;
    private String codigo;


    @Override
    public long getID() {
        return id;
    }

    @Override
    public void setID(long id) {
        this.id = id;
    }

    @Override
    public boolean isAutoGeneratedId() {
        return false;
    }

    @Override
    public String getTableName() {
        return Contract.ProductoCodigo.TABLE_NAME;
    }

    public String getCodigoExterno() {
        return codigoExterno;
    }

    public void setCodigoExterno(String codigoExterno) {
        this.codigoExterno = codigoExterno;
    }

    public String getCodigo() {
        return codigo;
    }

    public void setCodigo(String codigo) {
        this.codigo = codigo;
    }

    @Override
    public void setValues() {
        setValue(Contract.ProductoCodigo.COLUMN_CODIGO_EXTERNO, this.codigoExterno);
        setValue(Contract.ProductoCodigo.COLUMN_CODIGO, this.codigo);
    }

    @Override
    public Object getValue(String key) {
        return null;
    }

    @Override
    public String getDescription() {
        return null;
    }

    public static ProductoCodigo getProductoCodigo(DataBase db, String codigoExterno) {
        Cursor c = db.query(Contract.ProductoCodigo.TABLE_NAME, new String[]{ Contract.ProductoCodigo.COLUMN_CODIGO_EXTERNO, Contract.ProductoCodigo.COLUMN_CODIGO}
                , Contract.ProductoCodigo.COLUMN_CODIGO + " = ?", new String[]{codigoExterno});

        ProductoCodigo productoCodigo = null;
        while (c.moveToNext()) {
            productoCodigo = new ProductoCodigo();
            //productoCodigo.setID(CursorUtils.getInt(c, Contract.ProductoCodigo._ID));
            productoCodigo.setCodigoExterno(CursorUtils.getString(c, Contract.ProductoCodigo.COLUMN_CODIGO_EXTERNO));
            productoCodigo.setCodigo(CursorUtils.getString(c, Contract.ProductoCodigo.COLUMN_CODIGO));
        }
        c.close();
        return productoCodigo;
    }

    public static void deleteCodigos(DataBase db, String codigoExterno)
    {
        db.delete(Contract.ProductoCodigo.TABLE_NAME, Contract.ProductoCodigo.COLUMN_CODIGO_EXTERNO + " = ? ", new String[] { codigoExterno});
    }
}