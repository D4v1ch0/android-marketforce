package rp3.auna.models;

import android.database.Cursor;

import java.util.ArrayList;
import java.util.List;

import rp3.db.sqlite.DataBase;
import rp3.auna.db.Contract;
import rp3.util.CursorUtils;

/**
 * Created by magno_000 on 16/01/2017.
 */
public class ClienteTarjeta extends rp3.data.entity.EntityBase<ClienteDireccion> {

    private long id;
    private long _idCliente;
    private long idCliente;
    private int idClienteTarjeta;
    private String numero;
    private String codigoSeguridad;
    private String fechaCaducidad;
    private String idMarcaTarjeta;
    private boolean esPrincipal;
    private boolean esValida;

    @Override
    public long getID() {
        return id;
    }

    @Override
    public void setID(long id) {
        this.id = id;
    }

    @Override
    public boolean isAutoGeneratedId() {
        return true;
    }

    @Override
    public String getTableName() {
        return Contract.ClienteTarjeta.TABLE_NAME;
    }

    @Override
    public void setValues() {
        setValue(Contract.ClienteTarjeta.COLUMN_CLIENTE_ID, this.idCliente);
        setValue(Contract.ClienteTarjeta.COLUMN_CLIENTE_ID_EXT, this._idCliente);
        setValue(Contract.ClienteTarjeta.COLUMN_CLIENTE_TARJETA_ID, this.idClienteTarjeta);
        setValue(Contract.ClienteTarjeta.COLUMN_NUMERO, this.numero);
        setValue(Contract.ClienteTarjeta.COLUMN_CODIGO_SEGURIDAD, this.codigoSeguridad);
        setValue(Contract.ClienteTarjeta.COLUMN_FECHA_CADUCIDAD, this.fechaCaducidad);
        setValue(Contract.ClienteTarjeta.COLUMN_ID_MARCA_TARJETA, this.idMarcaTarjeta);
        setValue(Contract.ClienteTarjeta.COLUMN_ES_PRINCIPAL, this.esPrincipal);

    }

    @Override
    public Object getValue(String key) {
        return null;
    }

    @Override
    public String getDescription() {
        return null;
    }

    public long getIdCliente() {
        return idCliente;
    }

    public void setIdCliente(long idCliente) {
        this.idCliente = idCliente;
    }

    public boolean getEsPrincipal() {
        return esPrincipal;
    }

    public void setEsPrincipal(boolean esPrincipal) {
        this.esPrincipal = esPrincipal;
    }

    public long get_idCliente() {
        return _idCliente;
    }

    public void set_idCliente(long _idCliente) {
        this._idCliente = _idCliente;
    }

    public int getIdClienteTarjeta() {
        return idClienteTarjeta;
    }

    public void setIdClienteTarjeta(int idClienteTarjeta) {
        this.idClienteTarjeta = idClienteTarjeta;
    }

    public String getNumero() {
        return numero;
    }

    public void setNumero(String numero) {
        this.numero = numero;
    }

    public String getCodigoSeguridad() {
        return codigoSeguridad;
    }

    public void setCodigoSeguridad(String codigoSeguridad) {
        this.codigoSeguridad = codigoSeguridad;
    }

    public String getFechaCaducidad() {
        return fechaCaducidad;
    }

    public void setFechaCaducidad(String fechaCaducidad) {
        this.fechaCaducidad = fechaCaducidad;
    }

    public String getIdMarcaTarjeta() {
        return idMarcaTarjeta;
    }

    public void setIdMarcaTarjeta(String idMarcaTarjeta) {
        this.idMarcaTarjeta = idMarcaTarjeta;
    }

    public boolean isEsPrincipal() {
        return esPrincipal;
    }

    public boolean isEsValida() {
        return esValida;
    }

    public void setEsValida(boolean esValida) {
        this.esValida = esValida;
    }

    public static List<ClienteTarjeta> getClienteTarjetas(DataBase db, long id) {
        Cursor c = db.query(Contract.ClienteTarjeta.TABLE_NAME, new String[]{
                        Contract.ClienteTarjeta._ID,
                        Contract.ClienteTarjeta.COLUMN_CLIENTE_ID,
                        Contract.ClienteTarjeta.COLUMN_CLIENTE_TARJETA_ID,
                        Contract.ClienteTarjeta.COLUMN_CLIENTE_ID_EXT,
                        Contract.ClienteTarjeta.COLUMN_CODIGO_SEGURIDAD,
                        Contract.ClienteTarjeta.COLUMN_ES_PRINCIPAL,
                        Contract.ClienteTarjeta.COLUMN_NUMERO,
                        Contract.ClienteTarjeta.COLUMN_FECHA_CADUCIDAD,
                        Contract.ClienteTarjeta.COLUMN_ID_MARCA_TARJETA,
                }, Contract.ClienteTarjeta.COLUMN_CLIENTE_ID_EXT + " = ? ",
                new String[]{String.valueOf(id)});

        List<ClienteTarjeta> list = new ArrayList<ClienteTarjeta>();
        while (c.moveToNext()) {
            ClienteTarjeta tpd = new ClienteTarjeta();
            tpd.setID(CursorUtils.getInt(c, Contract.ClienteTarjeta._ID));
            tpd.setIdCliente(CursorUtils.getLong(c, Contract.ClienteTarjeta.COLUMN_CLIENTE_ID));
            tpd.set_idCliente(CursorUtils.getLong(c, Contract.ClienteTarjeta.COLUMN_CLIENTE_ID_EXT));
            tpd.setNumero(CursorUtils.getString(c, Contract.ClienteTarjeta.COLUMN_NUMERO));
            tpd.setCodigoSeguridad(CursorUtils.getString(c, Contract.ClienteTarjeta.COLUMN_NUMERO));
            tpd.setEsPrincipal(CursorUtils.getBoolean(c, Contract.ClienteTarjeta.COLUMN_ES_PRINCIPAL));
            tpd.setIdMarcaTarjeta(CursorUtils.getString(c, Contract.ClienteTarjeta.COLUMN_ID_MARCA_TARJETA));
            tpd.setFechaCaducidad(CursorUtils.getString(c, Contract.ClienteTarjeta.COLUMN_FECHA_CADUCIDAD));
            tpd.setIdClienteTarjeta(CursorUtils.getInt(c, Contract.ClienteTarjeta.COLUMN_CLIENTE_TARJETA_ID));

            list.add(tpd);
        }
        c.close();
        return list;
    }

}